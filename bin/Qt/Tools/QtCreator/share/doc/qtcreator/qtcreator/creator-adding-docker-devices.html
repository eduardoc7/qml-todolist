<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- creator-docker.qdoc -->
  <title>Adding Docker Devices | Qt Creator Manual</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="index.html">Qt Creator Manual</a></li>
<li>Adding Docker Devices</li>
<li id="buildversion"><a href="index.html">Qt Creator Manual 9.0&#x2e;0</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
  <link rel="prev" href="creator-developing-b2qt.html" />
  <link rel="next" href="creator-developing-ios.html" />
<p class="naviNextPrevious headerNavi">
<a class="prevPage" href="creator-developing-b2qt.html">Connecting Boot2Qt Devices</a>
<span class="naviSeparator">  &#9702;  </span>
<a class="nextPage" href="creator-developing-ios.html">Connecting iOS Devices</a>
</p>
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#enabling-docker-plugin">Enabling Docker Plugin</a></li>
<li class="level1"><a href="#adding-docker-images-as-devices">Adding Docker Images as Devices</a></li>
<li class="level2"><a href="#selecting-docker-images">Selecting Docker Images</a></li>
<li class="level2"><a href="#modifying-entry-points">Modifying Entry Points</a></li>
<li class="level2"><a href="#specifying-paths-to-mount">Specifying Paths to Mount</a></li>
<li class="level2"><a href="#auto-detecting-kit-items">Auto-detecting Kit Items</a></li>
<li class="level1"><a href="#editing-docker-device-kits">Editing Docker Device Kits</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Adding Docker Devices</h1>
<!-- $$$creator-adding-docker-devices.html-description -->
<div class="descr" id="details">
<p>Create Docker devices from <a href="https://docs.docker.com/get-started/overview/">Docker images</a> and use them to build, run, and debug applications. A Docker container operates like a virtual machine but uses less system resources at the cost of being less flexible.</p>
<p>Docker support is experimental. While Linux, macOS, and Windows hosts are supported in principle, Linux is the recommended platform.</p>
<p>Currently, only CMake is supported for building applications in the Docker container.</p>
<p>To build, run, and debug applications on Docker devices, you must install and configure <code>docker-cli</code> on the development host. Qt Creator automatically detects <a href="creator-targets.html">build and run kit</a> items, such <a href="creator-debuggers.html">debuggers</a> and <a href="creator-project-qmake.html">Qt versions</a>, in the Docker container and creates kits for the devices.</p>
<p>You can use images that are available locally. You can pull images from Docker hub or other registries using the <a href="https://docs.docker.com/engine/reference/commandline/pull/">docker pull</a> command. To check that an image is available locally, run the <code>docker images</code> command in a terminal.</p>
<h2 id="enabling-docker-plugin">Enabling Docker Plugin</h2>
<p>To enable the experimental Docker plugin:</p>
<ol class="1" type="1"><li>In Qt Creator, select <b>Help</b> &gt; <b>About Plugins</b> &gt; <b>Utilities</b> &gt; <b>Docker (experimental)</b>.</li>
<li>Select <b>Restart Now</b> to restart Qt Creator and load the plugin.</li>
</ol>
<h2 id="adding-docker-images-as-devices">Adding Docker Images as Devices</h2>
<p>To add a Docker image as a device:</p>
<ol class="1" type="1"><li>Select <b>Edit</b> &gt; <b>Preferences</b> &gt; <b>Devices</b> &gt; <b>Docker</b> and enter the path to the Docker CLI in the <b>Command</b> field.<p class="centerAlign"><img src="images/qtcreator-preferences-devices-docker.webp" alt="&quot;Docker tab in Devices preferences&quot;" /></p></li>
<li>Select <b>Devices</b> &gt; <b>Add</b> &gt; <b>Docker Device</b> &gt; <b>Start Wizard</b> to search for images in your local Docker installation.</li>
<li>Select the Docker image to use, and then select <b>OK</b>.</li>
<li>In <b>Devices</b>, check and modify Docker device preferences.<p class="centerAlign"><img src="images/qtcreator-preferences-devices-docker-device.webp" alt="&quot;Docker device preferences&quot;" /></p></li>
<li>Select <b>Run as outside user</b> to use the user ID and group ID of the user running Qt Creator in the Docker container.</li>
<li>Select <b>Do not modify entry point</b> to stop Qt Creator from modifying the entry point of the image if the image starts into a shell.</li>
<li>In <b>Paths to mount</b>, specify host directories to mount into the container, such as the project directory.</li>
<li>In <b>Search locations</b>, select where to search for kit items.</li>
<li>Select <b>Auto-detect Kit Items</b> to find kit items and to create kits for the Docker device.</li>
<li>Select <b>Apply</b> to save your changes.</li>
</ol>
<p>The following sections describe the Docker device preferences in more detail.</p>
<h3 id="selecting-docker-images">Selecting Docker Images</h3>
<p>The <b>Docker Image Selection</b> dialog displays a list of Docker images in your local Docker installation. You can sort the images according to the repository name or tag or the image ID or size.</p>
<p class="centerAlign"><img src="images/qtcreator-docker-image-selection.webp" alt="&quot;Docker Image Selection dialog&quot;" /></p><p>Select <b>Show unnamed images</b> to show images that are not tagged.</p>
<p>Double-click an image to select it.</p>
<h3 id="modifying-entry-points">Modifying Entry Points</h3>
<p>The entry point of a Docker container is specified in the container settings and started as the main process when starting the container. The entry point can be a shell, an SSH server, or another process, for example. By default, Qt Creator modifies the entry point before it starts a container to make sure that the main process is an <code>sh</code> shell.</p>
<p>To stop Qt Creator from modifying the entry point, select <b>Do not modify entry point</b>. However, if the entry point you specify is not a shell, Qt Creator cannot start the container.</p>
<h3 id="specifying-paths-to-mount">Specifying Paths to Mount</h3>
<p>You can either copy your project files into the Docker container or specify paths to them in <b>Paths to mount</b>. Shared mounts are restricted to locations in the host system that can end up in the same absolute location in the Docker container. On Windows, network mounts cannot be used as shared mounts.</p>
<p>The paths in <b>Paths to mount</b> are mapped one-to-one to the Docker container. Select <b>Insert</b> to browse directories to add. Select <b>Delete Line</b> to delete the selected path or <b>Clear</b> to delete all paths.</p>
<h3 id="auto-detecting-kit-items">Auto-detecting Kit Items</h3>
<p>Select <b>Auto-detect Kit Items</b> to find kit items and create kits for the Docker device. You can search for kit items in the device's PATH or in the specified directories.</p>
<p>In <b>Search locations</b>, select:</p>
<ul>
<li><b>Search in PATH</b> to find kit items in PATH.</li>
<li><b>Search in Selected Directories</b> to find kit items in the selected directories.</li>
<li><b>Search in PATH and Additional Directories</b> to find kit items in the PATH and in the selected directories.</li>
</ul>
<p>When searching in directories, enter a semicolon-separated list of directory paths in the Docker image to scan for kit entries.</p>
<p>To list the automatically detected kit items, select <b>List Auto-Detected Kit Items</b>. To remove them, select <b>Remove Auto-Detected Kit Items</b>.</p>
<h2 id="editing-docker-device-kits">Editing Docker Device Kits</h2>
<p>Select <b>Edit</b> &gt; <b>Preferences</b> &gt; <b>Kits</b> to check that the automatically generated kits point to the appropriate kit items.</p>
<p>To specify build settings:</p>
<ol class="1" type="1"><li>Open a project for an application you want to develop for the device.</li>
<li>Select <b>Projects</b> &gt; <b>Build &amp; Run</b> to enable the kit that you specified above.</li>
</ol>
<p>Select <b>Run</b> to specify run settings. Usually, you can use the default settings.</p>
</div>
<!-- @@@creator-adding-docker-devices.html -->
<p class="naviNextPrevious footerNavi">
<a class="prevPage" href="creator-developing-b2qt.html">Connecting Boot2Qt Devices</a>
<span class="naviSeparator">  &#9702;  </span>
<a class="nextPage" href="creator-developing-ios.html">Connecting iOS Devices</a>
</p>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2022 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
